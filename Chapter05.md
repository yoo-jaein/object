# Chapter 05 책임 할당하기

## 책임 주도 설계
### 1. 데이터보다 행동을 먼저 결정하라.
데이터 중심 설계에서는 "이 객체가 포함해야 하는 데이터가 무엇인가"를 결정한 후에 "데이터를 처리하는 데 필요한 오퍼레이션은 무엇인가"를 결정한다. 반면 책임 중심 설계에서는 "이 객체가 수행하야 하는 책임은 무엇인가"를 결정한 후에 "이 책임을 수행하는 데 필요한 데이터는 무엇인가"를 결정한다.  

### 2. 협력이라는 문맥 안에서 책임을 결정하라.
객체의 입장에서 책임이 조금 어색해 보이더라도 협력에 적합하다면 그 책임은 좋은 것이다. 객체를 결정한 후에 메시지를 선택하는 것이 아니라 메시지를 결정한 후에 객체를 선택해야 한다. 

## GRASP 패턴
General Responsibility Assignment Software Pattern, GRASP은 객체지향 소프트웨어 개발 프로젝트에서 공통적으로 나타나는 문제를 해결하기 위한 패턴이다. 객체에게 책임을 할당할 때 지침으로 삼을 수 있는 9가지 원칙들을 안내한다.

- Information expert: 정보 전문가 패턴   
  > Problem: 객체에게 책임을 할당하는 기본 원칙은 무엇인가?  
  > Solution: 책임을 수행하는 데 필요한 정보를 가진 객체에게 할당하라.  
- Creator: 창조자 패턴
  > Problem: 누가 객체 A를 생성해야 하는가?  
  > Solution: 다음 조건을 최대한 많이 만족하는 객체 B에게 그 책임을 할당하라.  
  > 'B가 A를 포함하거나 참조한다.' 'B가 A를 기록한다.' 'B가 A를 긴밀하게 사용한다.' 'B가 A를 초기화하는 데 필요한 데이터를 가진다.'  
- Controller: 컨트롤러 패턴
  > Problem: 누가 시스템의 입력 이벤트를 핸들링하기 위한 책임을 가져야 하는가?  
  > Solution: 유즈 케이스 컨트롤러가 유즈 케이스의 모든 시스템 이벤트를 다뤄야 한다. 혹은, 하나 이상의 유즈 케이스를 위해 사용되어야 한다. 예를 들어, 'Create User', 'Delete User'라는 유즈 케이스는 두 개의 분리된 유즈 케이스 컨트롤러 대신 하나의 UserController를 공통적으로 가진다.  
- Indirection: 간접 패턴
  > Problem: 직접적인 결합을 피하기 위해 어디에 책임을 할당해야 하는가?  
  > Solution: 그들이 직접적으로 결합되지 않도록 컴포넌트 사이에 중재하는 객체를 만들고 그 객체에 책임을 할당하라.  
- Low coupling: 낮은 결합도 패턴
  > Problem: 낮은 의존성, 변경 가능성, 높은 재사용성을 유지하는 방법을 무엇인가?  
  > Solution: 낮은 결합도를 유지할 수 있도록 책임을 할당하라.
- High cohesion: 높은 응집도 패턴
  > Problem: 객체를 관리하기 쉽고 이해하기 쉽게 유지하는 방법은 무엇인가?  
  > Solution: 높은 응집도를 유지할 수 있도록 책임을 할당하라.
- Polymorphism: 다형성 패턴
  > Problem: 객체의 타입에 따라 변하는 로직이 있을 때 변하는 로직을 담당할 책임을 어떻게 할당해야 하는가?  
  > Solution: 추상 클래스나 인터페이스와 같은 다형성 연산을 통해 행동별 책임을 할당하라.
- Protected variations: 변경 보호 패턴
  > Problem: 어떻게 객체, 서브시스템, 시스템을 설계할까? 의도하지 않은 변화를 최소화할 수 있도록  
  > Solution: 예측 가능한 변화를 확인하라. 
- Pure fabrication: 
  > Problem: 책임을 할당할만한 좋은 객체가 없을 때 어떤 객체가 책임을 가져야 하는가?  
  > Solution: 그 책임을 가지는 새로운 객체를 만들어라.  
  
  SRP 원칙을 위반한다. 
  
## 설계 0단계: 도메인 그리기

## 설계 1단계: 정보 전문가에게 책임 할당하기

## 설계 2단계: 높은 응집도와 낮은 결합도를 고려하기

## 설계 3단계: 창조자 결정하기

## 설계 4단계: 코드 작성하기

## 개선 1단계: 낮은 응집도를 위한 클래스 분리하기

## 개선 2단계: 객체를 자율적으로 만들기

## 결론

## 참고
https://en.wikipedia.org/wiki/GRASP_(object-oriented_design)  
https://www.youtube.com/watch?v=zf2A_xSNhvM  
https://dzone.com/articles/solid-grasp-and-other-basic-principles-of-object-o  